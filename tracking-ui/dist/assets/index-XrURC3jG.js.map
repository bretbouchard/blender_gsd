{"version":3,"mappings":"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","names":["loadConfig","config","__vitePreload","error","loadItems","items","modules","path","mod","item","err","a","b","loadBlockers","data","Signal","initial","__publicField","newValue","s","fn","blockers","filters","view","selectedItem","isLoading","getFilteredItems","allItems","currentFilters","search","matchId","matchName","matchDesc","_a","getBlockedItems","getStats","i","FilterBar","container","render","cfg","currentView","c","e","value","_b","searchTimeout","_c","_d","btn","newView","defaultConfig","defaultCategories","defaultStatuses","generateBaseHTML","heroImage","thumbnails","dependencies","category","status","escapeHtml","generateStyles","t","dep","colors","text","escapeMap","char","generateCharacterHTML","generatePropHTML","generateShotHTML","templates","generateOneSheet","exportHTML","downloadHTML","html","blob","url","exportPDF","printWindow","OneSheetGenerator","getItems","id","results","_instance","getOneSheetGenerator","styles","styleEl","OneSheetPreview","generator","header","iframe","actions","closeModal","currentModal","showOneSheetPreview","modal","handleEscape","ItemCard","hasBlockers","card","onesheetBtn","div","Board","statusConfig","statusItems","column","content","stats","total","BlockerPanel","blockedItems","allBlockers","el","ItemDetail","img","d","handleKeydown","init","app","main"],"ignoreList":[],"sources":["../../src/api.ts","../../src/store.ts","../../src/components/FilterBar.ts","../../src/onesheet/types.ts","../../src/onesheet/templates/base.ts","../../src/onesheet/templates/character.ts","../../src/onesheet/templates/prop.ts","../../src/onesheet/templates/shot.ts","../../src/onesheet/templates/index.ts","../../src/onesheet/export/html.ts","../../src/onesheet/export/pdf.ts","../../src/onesheet/generator.ts","../../src/components/OneSheetPreview.ts","../../src/components/ItemCard.ts","../../src/components/Board.ts","../../src/components/BlockerPanel.ts","../../src/components/ItemDetail.ts","../../src/main.ts"],"sourcesContent":["/**\n * API Layer for Production Tracking\n *\n * Loads YAML data files using Vite's glob imports.\n * This is read-only - AI handles writes to YAML files.\n */\n\nimport type { TrackingItem, TrackingConfig, Blocker } from './types';\n\n/**\n * Load configuration (categories and statuses)\n */\nexport async function loadConfig(): Promise<TrackingConfig> {\n  try {\n    const config = await import('../../.planning/tracking/config.yaml');\n    return config.default || config;\n  } catch (error) {\n    console.error('Failed to load config:', error);\n    // Return default config\n    return {\n      categories: [\n        { id: 'character', name: 'Characters', color: '#3498db' },\n        { id: 'wardrobe', name: 'Wardrobe', color: '#9b59b6' },\n        { id: 'prop', name: 'Props', color: '#e67e22' },\n        { id: 'set', name: 'Sets', color: '#27ae60' },\n        { id: 'shot', name: 'Shots', color: '#e74c3c' },\n        { id: 'asset', name: 'Assets', color: '#1abc9c' },\n        { id: 'audio', name: 'Audio', color: '#f39c12' },\n      ],\n      statuses: [\n        { id: 'complete', name: 'Complete', color: '#27ae60' },\n        { id: 'in_progress', name: 'In Progress', color: '#f1c40f' },\n        { id: 'planned', name: 'Planned', color: '#3498db' },\n        { id: 'vague', name: 'Vague', color: '#95a5a6' },\n        { id: 'blocked', name: 'Blocked', color: '#e74c3c' },\n      ],\n    };\n  }\n}\n\n/**\n * Load all tracking items\n */\nexport async function loadItems(): Promise<TrackingItem[]> {\n  const items: TrackingItem[] = [];\n\n  try {\n    // Vite glob import for all item files (must be static string)\n    const modules = import.meta.glob('../../.planning/tracking/items/*.yaml');\n\n    for (const path in modules) {\n      try {\n        const mod = await modules[path]();\n        const item = (mod as any).default || mod;\n        if (item && item.id) {\n          items.push(item as TrackingItem);\n        }\n      } catch (err) {\n        console.warn(`Failed to load item: ${path}`, err);\n      }\n    }\n  } catch (error) {\n    console.error('Failed to load items:', error);\n  }\n\n  // Sort by ID\n  return items.sort((a, b) => a.id.localeCompare(b.id));\n}\n\n/**\n * Load blockers\n */\nexport async function loadBlockers(): Promise<Blocker[]> {\n  try {\n    const data = await import('../../.planning/tracking/blockers.yaml');\n    const blockers = (data.default || data).blockers || [];\n    return blockers as Blocker[];\n  } catch (error) {\n    console.error('Failed to load blockers:', error);\n    return [];\n  }\n}\n\n/**\n * Get item by ID\n */\nexport async function getItem(id: string): Promise<TrackingItem | null> {\n  try {\n    // Dynamic import for single item\n    const modules = import.meta.glob('../../.planning/tracking/items/*.yaml');\n    const path = `../../.planning/tracking/items/${id}.yaml`;\n    if (path in modules) {\n      const mod = await modules[path]();\n      return (mod as any).default || mod;\n    }\n    return null;\n  } catch {\n    return null;\n  }\n}\n","/**\n * Reactive Store for Production Tracking\n *\n * Simple signal-based reactive state management.\n * No framework dependencies - vanilla TypeScript.\n */\n\nimport type { TrackingItem, TrackingConfig, Filters, ViewMode, Blocker, Status } from './types';\n\ntype Subscriber<T> = (value: T) => void;\n\n/**\n * Signal - Simple reactive container\n */\nclass Signal<T> {\n  private _value: T;\n  private subscribers: Subscriber<T>[] = [];\n\n  constructor(initial: T) {\n    this._value = initial;\n  }\n\n  get(): T {\n    return this._value;\n  }\n\n  set(newValue: T): void {\n    if (this._value === newValue) return;\n    this._value = newValue;\n    this.subscribers.forEach(s => s(newValue));\n  }\n\n  subscribe(fn: Subscriber<T>): () => void {\n    this.subscribers.push(fn);\n    // Call immediately with current value\n    fn(this._value);\n    // Return unsubscribe function\n    return () => {\n      this.subscribers = this.subscribers.filter(s => s !== fn);\n    };\n  }\n}\n\n// Global state signals\nexport const items = new Signal<TrackingItem[]>([]);\nexport const config = new Signal<TrackingConfig | null>(null);\nexport const blockers = new Signal<Blocker[]>([]);\nexport const filters = new Signal<Filters>({});\nexport const view = new Signal<ViewMode>('kanban');\nexport const selectedItem = new Signal<TrackingItem | null>(null);\nexport const isLoading = new Signal<boolean>(true);\nexport const error = new Signal<string | null>(null);\n\n/**\n * Get filtered items based on current filters\n */\nexport function getFilteredItems(): TrackingItem[] {\n  const allItems = items.get();\n  const currentFilters = filters.get();\n\n  return allItems.filter(item => {\n    // Status filter\n    if (currentFilters.status && item.status !== currentFilters.status) {\n      return false;\n    }\n\n    // Category filter\n    if (currentFilters.category && item.category !== currentFilters.category) {\n      return false;\n    }\n\n    // Search filter\n    if (currentFilters.search) {\n      const search = currentFilters.search.toLowerCase();\n      const matchId = item.id.toLowerCase().includes(search);\n      const matchName = item.name.toLowerCase().includes(search);\n      const matchDesc = item.description?.toLowerCase().includes(search) ?? false;\n      if (!matchId && !matchName && !matchDesc) {\n        return false;\n      }\n    }\n\n    return true;\n  });\n}\n\n/**\n * Get items by status\n */\nexport function getItemsByStatus(status: Status): TrackingItem[] {\n  return getFilteredItems().filter(item => item.status === status);\n}\n\n/**\n * Get blocked items\n */\nexport function getBlockedItems(): TrackingItem[] {\n  return items.get().filter(item => item.blockers.length > 0 || item.status === 'blocked');\n}\n\n/**\n * Get items that depend on a given item\n */\nexport function getDependentItems(itemId: string): TrackingItem[] {\n  return items.get().filter(item => item.depends_on.includes(itemId));\n}\n\n/**\n * Statistics\n */\nexport function getStats() {\n  const allItems = items.get();\n\n  return {\n    total: allItems.length,\n    complete: allItems.filter(i => i.status === 'complete').length,\n    in_progress: allItems.filter(i => i.status === 'in_progress').length,\n    planned: allItems.filter(i => i.status === 'planned').length,\n    vague: allItems.filter(i => i.status === 'vague').length,\n    blocked: allItems.filter(i => i.status === 'blocked' || i.blockers.length > 0).length,\n    blockers: blockers.get().length,\n  };\n}\n","/**\n * Filter Bar Component\n *\n * Provides filtering and view switching controls.\n */\n\nimport { config, filters, view } from '../store';\nimport type { Status, Category, ViewMode } from '../types';\n\nexport function FilterBar(): HTMLElement {\n  const container = document.createElement('div');\n  container.className = 'filter-bar';\n\n  function render() {\n    const cfg = config.get();\n    const currentFilters = filters.get();\n    const currentView = view.get();\n\n    container.innerHTML = `\n      <div class=\"filters\">\n        <select id=\"status-filter\" title=\"Filter by status\">\n          <option value=\"\">All Statuses</option>\n          ${cfg?.statuses.map(s => `\n            <option value=\"${s.id}\" ${currentFilters.status === s.id ? 'selected' : ''}>\n              ${s.name}\n            </option>\n          `).join('') || ''}\n        </select>\n\n        <select id=\"category-filter\" title=\"Filter by category\">\n          <option value=\"\">All Categories</option>\n          ${cfg?.categories.map(c => `\n            <option value=\"${c.id}\" ${currentFilters.category === c.id ? 'selected' : ''}>\n              ${c.name}\n            </option>\n          `).join('') || ''}\n        </select>\n\n        <input\n          type=\"text\"\n          id=\"search\"\n          placeholder=\"Search items...\"\n          value=\"${currentFilters.search || ''}\"\n          title=\"Search by name, ID, or description\"\n        />\n\n        <button id=\"clear-filters\" class=\"btn-clear\" title=\"Clear all filters\">\n          ✕ Clear\n        </button>\n      </div>\n\n      <div class=\"view-toggle\">\n        <button class=\"${currentView === 'kanban' ? 'active' : ''}\" data-view=\"kanban\" title=\"Board view\">\n          ▦ Board\n        </button>\n        <button class=\"${currentView === 'table' ? 'active' : ''}\" data-view=\"table\" title=\"Table view\">\n          ☰ Table\n        </button>\n      </div>\n    `;\n\n    // Status filter handler\n    container.querySelector('#status-filter')?.addEventListener('change', (e) => {\n      const value = (e.target as HTMLSelectElement).value as Status;\n      filters.set({ ...currentFilters, status: value || undefined });\n    });\n\n    // Category filter handler\n    container.querySelector('#category-filter')?.addEventListener('change', (e) => {\n      const value = (e.target as HTMLSelectElement).value as Category;\n      filters.set({ ...currentFilters, category: value || undefined });\n    });\n\n    // Search handler with debounce\n    let searchTimeout: number;\n    container.querySelector('#search')?.addEventListener('input', (e) => {\n      clearTimeout(searchTimeout);\n      searchTimeout = window.setTimeout(() => {\n        const value = (e.target as HTMLInputElement).value;\n        filters.set({ ...currentFilters, search: value || undefined });\n      }, 200);\n    });\n\n    // Clear filters button\n    container.querySelector('#clear-filters')?.addEventListener('click', () => {\n      filters.set({});\n      // Reset form elements\n      (container.querySelector('#status-filter') as HTMLSelectElement).value = '';\n      (container.querySelector('#category-filter') as HTMLSelectElement).value = '';\n      (container.querySelector('#search') as HTMLInputElement).value = '';\n    });\n\n    // View toggle buttons\n    container.querySelectorAll('[data-view]').forEach(btn => {\n      btn.addEventListener('click', (e) => {\n        const newView = (e.target as HTMLElement).dataset.view as ViewMode;\n        view.set(newView);\n      });\n    });\n  }\n\n  // Initial render\n  render();\n\n  // Subscribe to config changes\n  config.subscribe(render);\n\n  return container;\n}\n","/**\n * 1-Sheet Generator Type Definitions\n *\n * Types for generating asset 1-sheets from tracking data.\n */\n\nimport type { TrackingItem } from '../types';\n\nexport interface OneSheetConfig {\n  width: number;\n  height: number;\n  heroImageSize: { width: number; height: number };\n  thumbSize: { width: number; height: number };\n  showQRCode: boolean;\n  showDependencies: boolean;\n  theme: 'dark' | 'light';\n}\n\nexport interface OneSheetData {\n  item: TrackingItem;\n  heroImage?: string;\n  thumbnails: string[];\n  dependencies: TrackingItem[];\n  config: OneSheetConfig;\n}\n\nexport const defaultConfig: OneSheetConfig = {\n  width: 800,\n  height: 1000,\n  heroImageSize: { width: 800, height: 450 },\n  thumbSize: { width: 180, height: 100 },\n  showQRCode: true,\n  showDependencies: true,\n  theme: 'dark'\n};\n\nexport interface BatchResult {\n  id: string;\n  status: 'success' | 'error';\n  path?: string;\n  error?: string;\n}\n","/**\n * Base 1-Sheet Template\n *\n * Generates HTML for a standard 1-sheet with hero image,\n * metadata, description, thumbnails, and dependencies.\n */\n\nimport type { OneSheetData, OneSheetConfig } from '../types';\n\ninterface CategoryInfo {\n  id: string;\n  name: string;\n  color: string;\n}\n\ninterface StatusInfo {\n  id: string;\n  name: string;\n  color: string;\n}\n\n// Default category/status info for fallback\nconst defaultCategories: Record<string, CategoryInfo> = {\n  character: { id: 'character', name: 'Character', color: '#3498db' },\n  prop: { id: 'prop', name: 'Prop', color: '#9b59b6' },\n  wardrobe: { id: 'wardrobe', name: 'Wardrobe', color: '#e91e63' },\n  set: { id: 'set', name: 'Set', color: '#795548' },\n  shot: { id: 'shot', name: 'Shot', color: '#ff9800' },\n  asset: { id: 'asset', name: 'Asset', color: '#607d8b' },\n  audio: { id: 'audio', name: 'Audio', color: '#4caf50' },\n};\n\nconst defaultStatuses: Record<string, StatusInfo> = {\n  todo: { id: 'todo', name: 'Todo', color: '#9e9e9e' },\n  in_progress: { id: 'in_progress', name: 'In Progress', color: '#2196f3' },\n  review: { id: 'review', name: 'Review', color: '#ff9800' },\n  done: { id: 'done', name: 'Done', color: '#4caf50' },\n  blocked: { id: 'blocked', name: 'Blocked', color: '#f44336' },\n};\n\nexport function generateBaseHTML(data: OneSheetData): string {\n  const { item, heroImage, thumbnails, dependencies, config: cfg } = data;\n\n  const category = defaultCategories[item.category] || { id: item.category, name: item.category, color: '#666' };\n  const status = defaultStatuses[item.status] || { id: item.status, name: item.status, color: '#666' };\n\n  return `\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <title>${escapeHtml(item.name)} - 1-Sheet</title>\n  <style>\n    ${generateStyles(cfg)}\n  </style>\n</head>\n<body>\n  <div class=\"onesheet\" style=\"width: ${cfg.width}px;\">\n    ${heroImage ? `\n      <div class=\"hero-image\">\n        <img src=\"${escapeHtml(heroImage)}\" alt=\"${escapeHtml(item.name)}\" />\n      </div>\n    ` : `\n      <div class=\"hero-placeholder\">\n        <span>No Image</span>\n      </div>\n    `}\n\n    <div class=\"content\">\n      <header class=\"header\">\n        <div class=\"title-block\">\n          <h1 class=\"name\">${escapeHtml(item.name)}</h1>\n          <span class=\"id\">${escapeHtml(item.id)}</span>\n        </div>\n        <div class=\"badges\">\n          <span class=\"category\" style=\"background: ${category.color}\">${escapeHtml(category.name)}</span>\n          <span class=\"status\" style=\"background: ${status.color}\">${escapeHtml(status.name)}</span>\n        </div>\n      </header>\n\n      ${item.description ? `\n        <section class=\"description\">\n          <h2>Description</h2>\n          <p>${escapeHtml(item.description)}</p>\n        </section>\n      ` : ''}\n\n      ${thumbnails.length > 0 ? `\n        <section class=\"thumbnails\">\n          ${thumbnails.map(t => `\n            <img src=\"${escapeHtml(t)}\" class=\"thumb\" alt=\"thumbnail\" />\n          `).join('')}\n        </section>\n      ` : ''}\n\n      ${cfg.showDependencies && dependencies.length > 0 ? `\n        <section class=\"dependencies\">\n          <h2>Dependencies</h2>\n          <ul>\n            ${dependencies.map(dep => `\n              <li>\n                <span class=\"dep-id\">${escapeHtml(dep.id)}</span>\n                <span class=\"dep-name\">${escapeHtml(dep.name)}</span>\n              </li>\n            `).join('')}\n          </ul>\n        </section>\n      ` : ''}\n\n      <footer class=\"footer\">\n        <div class=\"source\">\n          <span>Source:</span>\n          ${item.source?.spec ? `<span class=\"source-path\">${escapeHtml(item.source.spec)}</span>` : '<span>N/A</span>'}\n        </div>\n        <div class=\"meta\">\n          ${item.source?.created_at ? `Created: ${escapeHtml(item.source.created_at)}` : ''}\n          ${item.source?.created_by ? ` by ${escapeHtml(item.source.created_by)}` : ''}\n        </div>\n        ${cfg.showQRCode ? `\n          <div class=\"qr-placeholder\">\n            [QR: ${escapeHtml(item.id)}]\n          </div>\n        ` : ''}\n        <div class=\"project\">blender_gsd</div>\n      </footer>\n    </div>\n  </div>\n</body>\n</html>\n  `.trim();\n}\n\nfunction generateStyles(cfg: OneSheetConfig): string {\n  const colors = cfg.theme === 'dark'\n    ? { bg: '#1a1a2e', fg: '#eaeaea', muted: '#888', card: '#16213e', border: '#2a2a4a', accent: '#3498db' }\n    : { bg: '#f5f5f5', fg: '#1a1a2e', muted: '#666', card: '#ffffff', border: '#ddd', accent: '#3498db' };\n\n  return `\n    * { box-sizing: border-box; margin: 0; padding: 0; }\n\n    body {\n      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n      background: ${colors.bg};\n      color: ${colors.fg};\n      display: flex;\n      justify-content: center;\n      padding: 2rem;\n      line-height: 1.5;\n    }\n\n    .onesheet {\n      background: ${colors.card};\n      border: 1px solid ${colors.border};\n      border-radius: 8px;\n      overflow: hidden;\n      box-shadow: 0 4px 20px rgba(0,0,0,0.3);\n    }\n\n    .hero-image {\n      width: 100%;\n      height: ${cfg.heroImageSize.height}px;\n      overflow: hidden;\n      background: ${colors.bg};\n    }\n\n    .hero-image img {\n      width: 100%;\n      height: 100%;\n      object-fit: cover;\n    }\n\n    .hero-placeholder {\n      width: 100%;\n      height: ${cfg.heroImageSize.height}px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      background: ${colors.bg};\n      color: ${colors.muted};\n      font-size: 1.5rem;\n    }\n\n    .content {\n      padding: 1.5rem;\n    }\n\n    .header {\n      display: flex;\n      justify-content: space-between;\n      align-items: flex-start;\n      margin-bottom: 1.5rem;\n      padding-bottom: 1rem;\n      border-bottom: 1px solid ${colors.border};\n    }\n\n    .title-block {\n      flex: 1;\n    }\n\n    .name {\n      font-size: 1.5rem;\n      font-weight: 600;\n      margin-bottom: 0.25rem;\n      color: ${colors.fg};\n    }\n\n    .id {\n      font-family: 'SF Mono', 'Monaco', 'Inconsolata', monospace;\n      font-size: 0.875rem;\n      color: ${colors.muted};\n    }\n\n    .badges {\n      display: flex;\n      gap: 0.5rem;\n      flex-shrink: 0;\n    }\n\n    .category, .status {\n      padding: 0.25rem 0.75rem;\n      border-radius: 4px;\n      font-size: 0.75rem;\n      text-transform: uppercase;\n      font-weight: 500;\n      color: white;\n    }\n\n    .description {\n      margin-bottom: 1.5rem;\n    }\n\n    .description h2 {\n      font-size: 0.75rem;\n      text-transform: uppercase;\n      letter-spacing: 0.05em;\n      color: ${colors.muted};\n      margin-bottom: 0.5rem;\n    }\n\n    .description p {\n      font-size: 0.9375rem;\n      line-height: 1.6;\n      color: ${colors.fg};\n    }\n\n    .thumbnails {\n      display: flex;\n      gap: 0.5rem;\n      margin-bottom: 1.5rem;\n      overflow-x: auto;\n      padding-bottom: 0.5rem;\n    }\n\n    .thumb {\n      width: ${cfg.thumbSize.width}px;\n      height: ${cfg.thumbSize.height}px;\n      object-fit: cover;\n      border-radius: 4px;\n      border: 1px solid ${colors.border};\n      flex-shrink: 0;\n    }\n\n    .dependencies {\n      margin-bottom: 1.5rem;\n    }\n\n    .dependencies h2 {\n      font-size: 0.75rem;\n      text-transform: uppercase;\n      letter-spacing: 0.05em;\n      color: ${colors.muted};\n      margin-bottom: 0.5rem;\n    }\n\n    .dependencies ul {\n      list-style: none;\n    }\n\n    .dependencies li {\n      padding: 0.5rem 0.75rem;\n      background: ${colors.bg};\n      border-radius: 4px;\n      margin-bottom: 0.25rem;\n      font-size: 0.875rem;\n    }\n\n    .dep-id {\n      font-family: 'SF Mono', 'Monaco', monospace;\n      color: ${colors.accent};\n      margin-right: 0.75rem;\n    }\n\n    .dep-name {\n      color: ${colors.fg};\n    }\n\n    .footer {\n      border-top: 1px solid ${colors.border};\n      padding-top: 1rem;\n      font-size: 0.75rem;\n      color: ${colors.muted};\n      display: flex;\n      flex-wrap: wrap;\n      gap: 1rem;\n      align-items: center;\n    }\n\n    .source {\n      display: flex;\n      gap: 0.25rem;\n    }\n\n    .source-path {\n      font-family: monospace;\n      color: ${colors.accent};\n    }\n\n    .qr-placeholder {\n      margin-left: auto;\n      background: ${colors.bg};\n      padding: 0.5rem;\n      border-radius: 4px;\n      font-family: monospace;\n      font-size: 0.625rem;\n    }\n\n    .project {\n      width: 100%;\n      text-align: center;\n      margin-top: 0.5rem;\n      font-weight: 500;\n      padding-top: 0.5rem;\n      border-top: 1px dashed ${colors.border};\n    }\n\n    @media print {\n      body {\n        padding: 0;\n        background: white;\n      }\n      .onesheet {\n        box-shadow: none;\n        border: none;\n      }\n    }\n  `;\n}\n\nfunction escapeHtml(text: string): string {\n  const escapeMap: Record<string, string> = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#039;'\n  };\n  return text.replace(/[&<>\"']/g, char => escapeMap[char]);\n}\n","/**\n * Character 1-Sheet Template\n *\n * Extended template for character assets with potential\n * additional fields like actor, costume, etc.\n */\n\nimport { generateBaseHTML } from './base';\nimport type { OneSheetData } from '../types';\n\nexport function generateCharacterHTML(data: OneSheetData): string {\n  // For now, use base template\n  // Future: Add character-specific sections like actor info, costume notes, etc.\n  return generateBaseHTML(data);\n}\n","/**\n * Prop 1-Sheet Template\n *\n * Template for prop assets.\n */\n\nimport { generateBaseHTML } from './base';\nimport type { OneSheetData } from '../types';\n\nexport function generatePropHTML(data: OneSheetData): string {\n  // For now, use base template\n  // Future: Add prop-specific sections like materials, dimensions, etc.\n  return generateBaseHTML(data);\n}\n","/**\n * Shot 1-Sheet Template\n *\n * Template for shot/sequence assets.\n */\n\nimport { generateBaseHTML } from './base';\nimport type { OneSheetData } from '../types';\n\nexport function generateShotHTML(data: OneSheetData): string {\n  // For now, use base template\n  // Future: Add shot-specific sections like scene info, duration, camera specs, etc.\n  return generateBaseHTML(data);\n}\n","/**\n * 1-Sheet Template Router\n *\n * Routes to the appropriate template based on item category.\n */\n\nimport type { OneSheetData } from '../types';\nimport { generateBaseHTML } from './base';\nimport { generateCharacterHTML } from './character';\nimport { generatePropHTML } from './prop';\nimport { generateShotHTML } from './shot';\n\n// Template map - routes categories to their specific templates\nconst templates: Record<string, (data: OneSheetData) => string> = {\n  character: generateCharacterHTML,\n  prop: generatePropHTML,\n  wardrobe: generateBaseHTML,\n  set: generateBaseHTML,\n  shot: generateShotHTML,\n  asset: generateBaseHTML,\n  audio: generateBaseHTML,\n};\n\n/**\n * Generate a 1-sheet HTML for the given data.\n * Routes to category-specific template if available.\n */\nexport function generateOneSheet(data: OneSheetData): string {\n  const template = templates[data.item.category] || generateBaseHTML;\n  return template(data);\n}\n\nexport { generateBaseHTML, generateCharacterHTML, generatePropHTML, generateShotHTML };\n","/**\n * HTML Export for 1-Sheets\n *\n * Export 1-sheet as downloadable HTML file.\n */\n\nimport type { OneSheetData } from '../types';\nimport { generateOneSheet } from '../templates';\n\n/**\n * Generate HTML string for a 1-sheet.\n */\nexport function exportHTML(data: OneSheetData): string {\n  return generateOneSheet(data);\n}\n\n/**\n * Download 1-sheet as HTML file.\n */\nexport function downloadHTML(data: OneSheetData): void {\n  const html = exportHTML(data);\n  const blob = new Blob([html], { type: 'text/html;charset=utf-8' });\n  const url = URL.createObjectURL(blob);\n\n  const a = document.createElement('a');\n  a.href = url;\n  a.download = `${data.item.id}.html`;\n  document.body.appendChild(a);\n  a.click();\n  document.body.removeChild(a);\n\n  URL.revokeObjectURL(url);\n}\n\n/**\n * Get the path where this 1-sheet would be saved in .gsd-state.\n * (Note: actual file writing requires server-side implementation)\n */\nexport function getStatePath(data: OneSheetData): string {\n  return `.gsd-state/onesheets/${data.item.id}.html`;\n}\n","/**\n * PDF Export for 1-Sheets\n *\n * Export 1-sheet as PDF via browser print dialog.\n */\n\nimport type { OneSheetData } from '../types';\nimport { generateOneSheet } from '../templates';\n\n/**\n * Open 1-sheet in new window for printing to PDF.\n */\nexport function exportPDF(data: OneSheetData): void {\n  const html = generateOneSheet(data);\n\n  // Open in new window for printing\n  const printWindow = window.open('', '_blank');\n  if (!printWindow) {\n    alert('Please allow popups to print 1-sheets');\n    return;\n  }\n\n  printWindow.document.write(html);\n  printWindow.document.close();\n\n  // Trigger print after content loads\n  printWindow.onload = () => {\n    setTimeout(() => {\n      printWindow.print();\n    }, 250);\n  };\n}\n\n/**\n * Print current window (for use when 1-sheet is already displayed).\n */\nexport function printCurrent(): void {\n  window.print();\n}\n","/**\n * 1-Sheet Generator Service\n *\n * Main service for generating and exporting 1-sheets.\n */\n\nimport type { TrackingItem } from '../types';\nimport type { OneSheetData, OneSheetConfig, BatchResult } from './types';\nimport { defaultConfig } from './types';\nimport { exportHTML, downloadHTML, exportPDF } from './export';\n\n/**\n * 1-Sheet Generator class.\n * Generates 1-sheet data and exports in various formats.\n */\nexport class OneSheetGenerator {\n  private config: OneSheetConfig;\n  private allItems: () => TrackingItem[];\n\n  constructor(getItems: () => TrackingItem[], config: Partial<OneSheetConfig> = {}) {\n    this.config = { ...defaultConfig, ...config };\n    this.allItems = getItems;\n  }\n\n  /**\n   * Generate 1-sheet data from a tracking item.\n   */\n  generate(item: TrackingItem): OneSheetData {\n    const allItems = this.allItems();\n\n    // Resolve dependencies\n    const dependencies = (item.depends_on || [])\n      .map(id => allItems.find(i => i.id === id))\n      .filter(Boolean) as TrackingItem[];\n\n    // Determine hero image (first image or undefined)\n    const heroImage = item.images?.[0];\n\n    // Thumbnails (remaining images, up to 4)\n    const thumbnails = (item.images || []).slice(1, 5);\n\n    return {\n      item,\n      heroImage,\n      thumbnails,\n      dependencies,\n      config: this.config\n    };\n  }\n\n  /**\n   * Generate HTML string for a 1-sheet.\n   */\n  generateHTML(item: TrackingItem): string {\n    const data = this.generate(item);\n    return exportHTML(data);\n  }\n\n  /**\n   * Download 1-sheet as HTML file.\n   */\n  downloadHTML(item: TrackingItem): void {\n    const data = this.generate(item);\n    downloadHTML(data);\n  }\n\n  /**\n   * Print 1-sheet to PDF via browser print dialog.\n   */\n  printPDF(item: TrackingItem): void {\n    const data = this.generate(item);\n    exportPDF(data);\n  }\n\n  /**\n   * Generate 1-sheets for all items.\n   */\n  generateAll(): BatchResult[] {\n    const allItems = this.allItems();\n    const results: BatchResult[] = [];\n\n    for (const item of allItems) {\n      try {\n        this.generate(item);\n        results.push({\n          id: item.id,\n          status: 'success',\n          path: `.gsd-state/onesheets/${item.id}.html`\n        });\n      } catch (error) {\n        results.push({\n          id: item.id,\n          status: 'error',\n          error: String(error)\n        });\n      }\n    }\n\n    return results;\n  }\n}\n\n// Singleton will be created in main.ts after store is available\nlet _instance: OneSheetGenerator | null = null;\n\n/**\n * Get the singleton 1-sheet generator instance.\n */\nexport function getOneSheetGenerator(getItems: () => TrackingItem[]): OneSheetGenerator {\n  if (!_instance) {\n    _instance = new OneSheetGenerator(getItems);\n  }\n  return _instance;\n}\n\n/**\n * Reset the singleton (for testing).\n */\nexport function resetGenerator(): void {\n  _instance = null;\n}\n","/**\n * 1-Sheet Preview Component\n *\n * Modal preview of 1-sheet with export options.\n */\n\nimport type { TrackingItem } from '../types';\nimport { getOneSheetGenerator } from '../onesheet/generator';\nimport { items } from '../store';\n\n// Add styles for the preview modal\nconst styles = `\n.onesheet-modal {\n  position: fixed;\n  inset: 0;\n  background: rgba(0, 0, 0, 0.8);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n  padding: 2rem;\n}\n\n.onesheet-modal.hidden {\n  display: none;\n}\n\n.onesheet-preview {\n  background: #1a1a2e;\n  border-radius: 12px;\n  max-width: 90vw;\n  max-height: 90vh;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n\n.preview-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 1rem 1.5rem;\n  border-bottom: 1px solid #2a2a4a;\n}\n\n.preview-header h2 {\n  font-size: 1.25rem;\n  color: #eaeaea;\n}\n\n.preview-close {\n  background: none;\n  border: none;\n  color: #888;\n  font-size: 1.5rem;\n  cursor: pointer;\n  padding: 0.25rem;\n}\n\n.preview-close:hover {\n  color: #fff;\n}\n\n.preview-frame {\n  border: none;\n  flex: 1;\n  min-height: 500px;\n  background: #1a1a2e;\n}\n\n.preview-actions {\n  display: flex;\n  gap: 0.75rem;\n  padding: 1rem 1.5rem;\n  border-top: 1px solid #2a2a4a;\n}\n\n.preview-actions button {\n  padding: 0.5rem 1rem;\n  border: none;\n  border-radius: 6px;\n  font-size: 0.875rem;\n  cursor: pointer;\n  transition: background 0.2s;\n}\n\n.btn-html {\n  background: #3498db;\n  color: white;\n}\n\n.btn-html:hover {\n  background: #2980b9;\n}\n\n.btn-pdf {\n  background: #e74c3c;\n  color: white;\n}\n\n.btn-pdf:hover {\n  background: #c0392b;\n}\n\n.btn-close {\n  background: #333;\n  color: #888;\n  margin-left: auto;\n}\n\n.btn-close:hover {\n  background: #444;\n  color: #fff;\n}\n`;\n\n// Inject styles\nif (typeof document !== 'undefined' && !document.getElementById('onesheet-styles')) {\n  const styleEl = document.createElement('style');\n  styleEl.id = 'onesheet-styles';\n  styleEl.textContent = styles;\n  document.head.appendChild(styleEl);\n}\n\n/**\n * Create the 1-sheet preview component.\n */\nexport function OneSheetPreview(item: TrackingItem): HTMLElement {\n  const generator = getOneSheetGenerator(() => items.get());\n  const html = generator.generateHTML(item);\n\n  const container = document.createElement('div');\n  container.className = 'onesheet-preview';\n\n  // Header\n  const header = document.createElement('div');\n  header.className = 'preview-header';\n  header.innerHTML = `\n    <h2>1-Sheet: ${item.name}</h2>\n    <button class=\"preview-close\" aria-label=\"Close\">&times;</button>\n  `;\n\n  // Preview iframe\n  const iframe = document.createElement('iframe');\n  iframe.className = 'preview-frame';\n  iframe.srcdoc = html;\n\n  // Actions\n  const actions = document.createElement('div');\n  actions.className = 'preview-actions';\n  actions.innerHTML = `\n    <button class=\"btn-html\">Download HTML</button>\n    <button class=\"btn-pdf\">Print PDF</button>\n    <button class=\"btn-close\">Close</button>\n  `;\n\n  // Event handlers\n  header.querySelector('.preview-close')?.addEventListener('click', () => {\n    closeModal();\n  });\n\n  actions.querySelector('.btn-html')?.addEventListener('click', () => {\n    generator.downloadHTML(item);\n  });\n\n  actions.querySelector('.btn-pdf')?.addEventListener('click', () => {\n    generator.printPDF(item);\n  });\n\n  actions.querySelector('.btn-close')?.addEventListener('click', () => {\n    closeModal();\n  });\n\n  container.appendChild(header);\n  container.appendChild(iframe);\n  container.appendChild(actions);\n\n  return container;\n}\n\nlet currentModal: HTMLElement | null = null;\n\n/**\n * Show 1-sheet preview modal.\n */\nexport function showOneSheetPreview(item: TrackingItem): void {\n  // Close existing modal if any\n  closeModal();\n\n  // Create modal\n  const modal = document.createElement('div');\n  modal.className = 'onesheet-modal';\n  modal.appendChild(OneSheetPreview(item));\n\n  // Close on backdrop click\n  modal.addEventListener('click', (e) => {\n    if (e.target === modal) {\n      closeModal();\n    }\n  });\n\n  // Close on Escape key\n  const handleEscape = (e: KeyboardEvent) => {\n    if (e.key === 'Escape') {\n      closeModal();\n      document.removeEventListener('keydown', handleEscape);\n    }\n  };\n  document.addEventListener('keydown', handleEscape);\n\n  document.body.appendChild(modal);\n  currentModal = modal;\n}\n\n/**\n * Close the 1-sheet preview modal.\n */\nexport function closeModal(): void {\n  if (currentModal) {\n    currentModal.remove();\n    currentModal = null;\n  }\n}\n","/**\n * Item Card Component\n *\n * Renders a single tracking item as a card.\n */\n\nimport type { TrackingItem } from '../types';\nimport { config, selectedItem } from '../store';\nimport { showOneSheetPreview } from './OneSheetPreview';\n\nexport function ItemCard(item: TrackingItem): HTMLElement {\n  const cfg = config.get();\n  const category = cfg?.categories.find(c => c.id === item.category);\n  const hasBlockers = item.blockers.length > 0 || item.status === 'blocked';\n\n  const card = document.createElement('div');\n  card.className = 'item-card';\n  card.dataset.id = item.id;\n  card.dataset.status = item.status;\n\n  if (hasBlockers) {\n    card.classList.add('has-blockers');\n  }\n\n  card.innerHTML = `\n    <div class=\"item-header\">\n      <span class=\"item-category\" style=\"background: ${category?.color || '#666'}\">\n        ${category?.name || item.category}\n      </span>\n      <span class=\"item-id\">${item.id}</span>\n    </div>\n    <h4 class=\"item-name\">${escapeHtml(item.name)}</h4>\n    ${item.description ? `<p class=\"item-description\">${escapeHtml(item.description)}</p>` : ''}\n    ${item.images.length > 0 ? `<img src=\"${item.images[0]}\" class=\"item-thumb\" alt=\"${item.name}\" onerror=\"this.style.display='none'\" />` : ''}\n    ${hasBlockers ? `<div class=\"item-blocked\">⚠️ ${item.blockers.length || 1} blocker(s)</div>` : ''}\n    ${item.depends_on.length > 0 ? `<div class=\"item-deps\">↳ ${item.depends_on.length} dependencies</div>` : ''}\n    <div class=\"item-footer\">\n      ${item.assigned_to ? `<span class=\"assigned\">👤 ${item.assigned_to}</span>` : ''}\n      <button class=\"btn-onesheet\" title=\"Generate 1-Sheet\">📄</button>\n    </div>\n  `;\n\n  // Main card click - select item\n  card.addEventListener('click', () => {\n    selectedItem.set(item);\n  });\n\n  // 1-Sheet button - stop propagation to prevent selection\n  const onesheetBtn = card.querySelector('.btn-onesheet');\n  onesheetBtn?.addEventListener('click', (e) => {\n    e.stopPropagation();\n    showOneSheetPreview(item);\n  });\n\n  return card;\n}\n\n/**\n * Escape HTML to prevent XSS\n */\nfunction escapeHtml(text: string): string {\n  const div = document.createElement('div');\n  div.textContent = text;\n  return div.innerHTML;\n}\n","/**\n * Board Component (Kanban View)\n *\n * Renders a Kanban board with columns for each status.\n */\n\nimport { config, filters, items } from '../store';\nimport { getFilteredItems, getItemsByStatus } from '../store';\nimport { ItemCard } from './ItemCard';\nimport type { Status } from '../types';\n\nexport function Board(): HTMLElement {\n  const container = document.createElement('div');\n  container.className = 'board';\n  container.id = 'board';\n\n  function render() {\n    const cfg = config.get();\n    const allItems = getFilteredItems();\n\n    if (!cfg) {\n      container.innerHTML = '<p class=\"loading-text\">Loading...</p>';\n      return;\n    }\n\n    container.innerHTML = '';\n\n    // Create columns for each status\n    cfg.statuses.forEach(statusConfig => {\n      const statusItems = allItems.filter(i => i.status === statusConfig.id);\n\n      const column = document.createElement('div');\n      column.className = 'board-column';\n      column.style.setProperty('--status-color', statusConfig.color);\n\n      const header = document.createElement('div');\n      header.className = 'column-header';\n      header.innerHTML = `\n        <h3>${statusConfig.name}</h3>\n        <span class=\"count\" style=\"background: ${statusConfig.color}\">${statusItems.length}</span>\n      `;\n      column.appendChild(header);\n\n      const content = document.createElement('div');\n      content.className = 'column-content';\n\n      if (statusItems.length === 0) {\n        content.innerHTML = '<p class=\"empty-column\">No items</p>';\n      } else {\n        statusItems.forEach(item => {\n          content.appendChild(ItemCard(item));\n        });\n      }\n\n      column.appendChild(content);\n      container.appendChild(column);\n    });\n\n    // Add stats footer\n    const stats = document.createElement('div');\n    stats.className = 'board-stats';\n    const total = allItems.length;\n    stats.innerHTML = `<span>Total: ${total} items</span>`;\n    container.appendChild(stats);\n  }\n\n  // Initial render\n  render();\n\n  // Subscribe to changes\n  items.subscribe(render);\n  filters.subscribe(render);\n\n  return container;\n}\n","/**\n * Blocker Panel Component\n *\n * Shows all blocked items and active blockers.\n */\n\nimport { items, blockers } from '../store';\nimport { getBlockedItems, getStats } from '../store';\n\nexport function BlockerPanel(): HTMLElement {\n  const container = document.createElement('div');\n  container.className = 'blocker-panel';\n\n  function render() {\n    const stats = getStats();\n    const blockedItems = getBlockedItems();\n    const allBlockers = blockers.get();\n\n    container.innerHTML = `\n      <h3>⚠️ Blockers</h3>\n\n      <div class=\"stats-summary\">\n        <span class=\"stat blocked\">${stats.blocked} blocked</span>\n        <span class=\"stat total\">${stats.total} total</span>\n      </div>\n\n      ${blockedItems.length === 0\n        ? '<p class=\"empty\">No blockers! 🎉</p>'\n        : `\n          <ul class=\"blocker-list\">\n            ${blockedItems.map(item => `\n              <li class=\"blocker-item\" data-id=\"${item.id}\">\n                <div class=\"blocker-header\">\n                  <strong>${item.id}</strong>\n                  <span class=\"blocker-name\">${escapeHtml(item.name)}</span>\n                </div>\n                ${item.blockers.length > 0\n                  ? `<ul class=\"blocker-reasons\">\n                      ${item.blockers.map(b => `<li>${escapeHtml(b)}</li>`).join('')}\n                    </ul>`\n                  : '<p class=\"blocker-reason\">Status: blocked</p>'\n                }\n              </li>\n            `).join('')}\n          </ul>\n        `\n      }\n\n      ${allBlockers.length > 0 ? `\n        <div class=\"blocker-details\">\n          <h4>Active Blockers</h4>\n          <ul class=\"blocker-detail-list\">\n            ${allBlockers.map(b => `\n              <li class=\"blocker-detail\">\n                <span class=\"blocker-id\">${b.id}</span>\n                <p class=\"blocker-reason\">${escapeHtml(b.reason)}</p>\n                <span class=\"blocker-since\">Since: ${b.blocking_since}</span>\n              </li>\n            `).join('')}\n          </ul>\n        </div>\n      ` : ''}\n    `;\n\n    // Add click handlers to blocker items\n    container.querySelectorAll('.blocker-item').forEach(el => {\n      el.addEventListener('click', () => {\n        const id = (el as HTMLElement).dataset.id;\n        // Could open item detail here\n        console.log('Blocked item:', id);\n      });\n    });\n  }\n\n  // Initial render\n  render();\n\n  // Subscribe to changes\n  items.subscribe(render);\n  blockers.subscribe(render);\n\n  return container;\n}\n\nfunction escapeHtml(text: string): string {\n  const div = document.createElement('div');\n  div.textContent = text;\n  return div.innerHTML;\n}\n","/**\n * Item Detail Modal Component\n *\n * Shows full details for a selected item.\n */\n\nimport { selectedItem, config } from '../store';\nimport type { TrackingItem } from '../types';\n\nexport function ItemDetail(): HTMLElement {\n  const container = document.createElement('div');\n  container.className = 'item-detail-overlay';\n  container.style.display = 'none';\n\n  function render() {\n    const item = selectedItem.get();\n    const cfg = config.get();\n\n    if (!item) {\n      container.style.display = 'none';\n      return;\n    }\n\n    container.style.display = 'flex';\n\n    const category = cfg?.categories.find(c => c.id === item.category);\n    const status = cfg?.statuses.find(s => s.id === item.status);\n\n    container.innerHTML = `\n      <div class=\"item-detail-modal\">\n        <button class=\"close-btn\" title=\"Close\">✕</button>\n\n        <div class=\"detail-header\">\n          <span class=\"detail-category\" style=\"background: ${category?.color}\">\n            ${category?.name}\n          </span>\n          <span class=\"detail-status\" style=\"background: ${status?.color}\">\n            ${status?.name}\n          </span>\n        </div>\n\n        <h2 class=\"detail-id\">${item.id}</h2>\n        <h3 class=\"detail-name\">${escapeHtml(item.name)}</h3>\n\n        ${item.description ? `\n          <p class=\"detail-description\">${escapeHtml(item.description)}</p>\n        ` : ''}\n\n        ${item.images.length > 0 ? `\n          <div class=\"detail-images\">\n            ${item.images.map((img, i) => `\n              <img src=\"${img}\" alt=\"${item.name} image ${i + 1}\"\n                   class=\"detail-image\"\n                   onerror=\"this.style.display='none'\" />\n            `).join('')}\n          </div>\n        ` : ''}\n\n        <div class=\"detail-meta\">\n          <div class=\"meta-row\">\n            <span class=\"meta-label\">Created by:</span>\n            <span class=\"meta-value\">${item.source.created_by}</span>\n          </div>\n          <div class=\"meta-row\">\n            <span class=\"meta-label\">Created at:</span>\n            <span class=\"meta-value\">${item.source.created_at}</span>\n          </div>\n          ${item.assigned_to ? `\n            <div class=\"meta-row\">\n              <span class=\"meta-label\">Assigned to:</span>\n              <span class=\"meta-value\">${item.assigned_to}</span>\n            </div>\n          ` : ''}\n          ${item.source.spec ? `\n            <div class=\"meta-row\">\n              <span class=\"meta-label\">Source:</span>\n              <a href=\"${item.source.spec}\" class=\"meta-link\" target=\"_blank\">\n                ${item.source.spec} →\n              </a>\n            </div>\n          ` : ''}\n        </div>\n\n        ${item.blockers.length > 0 ? `\n          <div class=\"detail-section\">\n            <h4>⚠️ Blockers</h4>\n            <ul class=\"detail-blockers\">\n              ${item.blockers.map(b => `<li>${escapeHtml(b)}</li>`).join('')}\n            </ul>\n          </div>\n        ` : ''}\n\n        ${item.depends_on.length > 0 ? `\n          <div class=\"detail-section\">\n            <h4>↳ Dependencies</h4>\n            <ul class=\"detail-deps\">\n              ${item.depends_on.map(d => `<li>${d}</li>`).join('')}\n            </ul>\n          </div>\n        ` : ''}\n\n        ${item.notes ? `\n          <div class=\"detail-section\">\n            <h4>📝 Notes</h4>\n            <p class=\"detail-notes\">${escapeHtml(item.notes)}</p>\n          </div>\n        ` : ''}\n\n        ${item.onesheet ? `\n          <div class=\"detail-actions\">\n            <a href=\"${item.onesheet}\" class=\"btn-onesheet\" target=\"_blank\">\n              View 1-Sheet →\n            </a>\n          </div>\n        ` : ''}\n      </div>\n    `;\n\n    // Close button handler\n    container.querySelector('.close-btn')?.addEventListener('click', () => {\n      selectedItem.set(null);\n    });\n\n    // Click outside to close\n    container.addEventListener('click', (e) => {\n      if (e.target === container) {\n        selectedItem.set(null);\n      }\n    });\n\n    // Escape key to close\n    const handleKeydown = (e: KeyboardEvent) => {\n      if (e.key === 'Escape') {\n        selectedItem.set(null);\n        document.removeEventListener('keydown', handleKeydown);\n      }\n    };\n    document.addEventListener('keydown', handleKeydown);\n  }\n\n  // Initial render\n  render();\n\n  // Subscribe to selected item changes\n  selectedItem.subscribe(render);\n\n  return container;\n}\n\nfunction escapeHtml(text: string): string {\n  const div = document.createElement('div');\n  div.textContent = text;\n  return div.innerHTML;\n}\n","/**\n * Production Tracking - Main Bootstrap\n *\n * Initializes the app, loads data, and renders the UI.\n */\n\nimport './styles/main.css';\nimport { loadConfig, loadItems, loadBlockers } from './api';\nimport { config, items, blockers, isLoading, error, getStats } from './store';\nimport { FilterBar } from './components/FilterBar';\nimport { Board } from './components/Board';\nimport { BlockerPanel } from './components/BlockerPanel';\nimport { ItemDetail } from './components/ItemDetail';\n\n/**\n * Initialize the application\n */\nasync function init() {\n  const app = document.getElementById('app');\n\n  if (!app) {\n    console.error('App container not found');\n    return;\n  }\n\n  try {\n    isLoading.set(true);\n\n    // Load all data in parallel\n    const [cfg, allItems, allBlockers] = await Promise.all([\n      loadConfig(),\n      loadItems(),\n      loadBlockers(),\n    ]);\n\n    // Update store\n    config.set(cfg);\n    items.set(allItems);\n    blockers.set(allBlockers);\n\n    // Build UI\n    app.innerHTML = '';\n\n    // Header\n    const header = document.createElement('header');\n    const stats = getStats();\n    header.innerHTML = `\n      <h1>📋 Production Tracking</h1>\n      <div class=\"header-stats\">\n        <span class=\"header-stat\">${stats.complete} complete</span>\n        <span class=\"header-stat\">${stats.in_progress} in progress</span>\n        <span class=\"header-stat\">${stats.blocked} blocked</span>\n      </div>\n    `;\n    app.appendChild(header);\n\n    // Filter bar\n    app.appendChild(FilterBar());\n\n    // Main content area\n    const main = document.createElement('main');\n    main.className = 'main-content';\n    main.appendChild(Board());\n    main.appendChild(BlockerPanel());\n    app.appendChild(main);\n\n    // Item detail modal (hidden by default)\n    app.appendChild(ItemDetail());\n\n    isLoading.set(false);\n\n    console.log(`Loaded ${allItems.length} items, ${allBlockers.length} blockers`);\n  } catch (err) {\n    isLoading.set(false);\n    error.set(err instanceof Error ? err.message : 'Failed to load data');\n\n    app.innerHTML = `\n      <div class=\"error-container\">\n        <h2>⚠️ Failed to Load</h2>\n        <p>${error.get()}</p>\n        <button onclick=\"location.reload()\">Retry</button>\n      </div>\n    `;\n  }\n}\n\n// Start app\ninit().catch(console.error);\n"],"file":"assets/index-XrURC3jG.js"}