---
phase: 07.4-compositing-integration
plan: 05
type: execute
wave: 4
depends_on: ["07.4-01", "07.4-02", "07.4-03", "07.4-04"]
files_modified:
  - lib/cinematic/tracking/__init__.py
  - lib/cinematic/__init__.py
autonomous: true

must_haves:
  truths:
    - "All new exports available from tracking module"
    - "All new exports available from cinematic module"
    - "Version bumped to 0.3.5"
  artifacts:
    - path: "lib/cinematic/tracking/__init__.py"
      provides: "Tracking module exports"
      contains: "compositor, session, shot_integration exports"
    - path: "lib/cinematic/__init__.py"
      provides: "Main cinematic module exports"
      contains: "__version__ = '0.3.5'"
  key_links:
    - from: "lib/cinematic/__init__.py"
      to: "lib/cinematic/tracking/__init__.py"
      via: "from .tracking import ..."
      pattern: "from.*tracking import"
---

<objective>
Update package exports and bump version to 0.3.5.

Purpose: Make all new Phase 7.4 functionality available through proper module exports, and update version number to reflect completed phase.

Output: Updated lib/cinematic/tracking/__init__.py and lib/cinematic/__init__.py with all new exports.
</objective>

<execution_context>
@/Users/bretbouchard/.claude/get-shit-done/workflows/execute-plan.md
@/Users/bretbouchard/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

# Files to update
@lib/cinematic/tracking/__init__.py
@lib/cinematic/__init__.py
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update tracking/__init__.py with new exports</name>
  <files>lib/cinematic/tracking/__init__.py</files>
  <action>
Update the tracking module's __init__.py to export all new Phase 7.4 functionality:

1. Add imports for new modules:
   ```python
   # Compositor integration (Phase 7.4)
   from .compositor import (
       CompositeConfig,
       create_stabilization_nodes,
       create_corner_pin_nodes,
       create_alpha_over_composite,
       create_shadow_composite,
       create_image_node,
       create_mix_node,
       apply_stmap_distortion,
       setup_lens_distortion_workflow,
       load_composite_preset,
       clear_compositor_tree,
   )

   # Session management (Phase 7.4)
   from .session import (
       TrackingSessionManager,
       SessionStatus,
       create_session,
       resume_tracking,
       load_session,
       list_sessions,
       get_session_status,
       export_session_report,
       merge_sessions,
       cleanup_old_sessions,
   )

   # Shot integration (Phase 7.4)
   from .shot_integration import (
       FootageConfig,
       TrackingShotConfig,
       CompositeShotConfig,
       setup_tracked_shot,
       assemble_shot_with_tracking,
       apply_solved_camera,
       setup_shot_compositing,
       load_tracking_shot_yaml,
       validate_tracking_shot_config,
   )
   ```

2. Update __all__ list to include all new exports (should be ~50+ total now)

3. Keep existing imports intact
  </action>
  <verify>python -c "from lib.cinematic.tracking import assemble_shot_with_tracking, TrackingSessionManager; print('OK')" 2>/dev/null</verify>
  <done>All Phase 7.4 exports available from tracking module</done>
</task>

<task type="auto">
  <name>Task 2: Update main cinematic/__init__.py with tracking exports</name>
  <files>lib/cinematic/__init__.py</files>
  <action>
Update the main cinematic module's __init__.py:

1. Add tracking submodule exports to main module:
   ```python
   # Tracking submodule exports (Phase 7.4)
   from .tracking import (
       # Session management
       TrackingSessionManager,
       SessionStatus,
       create_session,
       resume_tracking,

       # Compositor
       CompositeConfig,
       create_stabilization_nodes,
       create_alpha_over_composite,
       load_composite_preset,

       # Shot integration
       FootageConfig,
       TrackingShotConfig,
       CompositeShotConfig,
       assemble_shot_with_tracking,
       load_tracking_shot_yaml,
   )
   ```

2. Add to __all__ list (these should be the most commonly used tracking functions)

3. Update module docstring to mention tracking capabilities
  </action>
  <verify>python -c "from lib.cinematic import assemble_shot_with_tracking, TrackingSessionManager, load_composite_preset; print('OK')" 2>/dev/null</verify>
  <done>Key tracking exports available from main cinematic module</done>
</task>

<task type="auto">
  <name>Task 3: Bump version to 0.3.5 and update module docstrings</name>
  <files>lib/cinematic/__init__.py</files>
  <action>
Update version and documentation:

1. Change version from 0.3.0 to 0.3.5:
   ```python
   __version__ = "0.3.5"
   ```

2. Update module docstring to reflect Phase 7.4 completion:
   ```python
   """
   Cinematic Rendering System for Blender GSD Framework

   Complete cinematic rendering with camera system, lighting, animation,
   motion tracking, and compositing integration.

   Version: 0.3.5
   Modules: 33+ modules (tracking: compositor, session, shot_integration added)
   Exports: 380+ exports

   New in 0.3.5:
   - Compositor node creation from tracking data
   - Session persistence and resume capability
   - Tracked shot assembly from single YAML
   - Shadow catcher workflow
   - Composite mode presets
   """
   ```

3. Update version history comment if present
  </action>
  <verify>python -c "from lib.cinematic import __version__; assert __version__ == '0.3.5', f'Version mismatch: {__version__}'; print('OK')"</verify>
  <done>Version bumped to 0.3.5, documentation updated</done>
</task>

<task type="auto">
  <name>Task 4: Verify all imports work correctly</name>
  <files>lib/cinematic/__init__.py</files>
  <action>
Final verification of all module imports:

1. Create a simple import test that verifies all Phase 7.4 exports:
   ```python
   # Test imports work
   from lib.cinematic import (
       # Tracking session
       TrackingSessionManager,
       SessionStatus,
       create_session,
       resume_tracking,

       # Compositor
       CompositeConfig,
       create_stabilization_nodes,
       create_alpha_over_composite,
       load_composite_preset,

       # Shot integration
       FootageConfig,
       TrackingShotConfig,
       CompositeShotConfig,
       assemble_shot_with_tracking,
       load_tracking_shot_yaml,
   )

   # Verify version
   from lib.cinematic import __version__
   assert __version__ == "0.3.5"

   print(f"All Phase 7.4 imports successful - version {__version__}")
   ```

2. Run the test to ensure no circular imports or missing dependencies
  </action>
  <verify>All imports work without errors, version is 0.3.5</verify>
  <done>Phase 7.4 complete with all exports available</done>
</task>

</tasks>

<verification>
- All new imports work from lib.cinematic.tracking
- Key imports work from lib.cinematic
- Version is 0.3.5
- No circular import issues
- __all__ lists are complete
</verification>

<success_criteria>
- lib/cinematic/tracking/__init__.py exports all new functions
- lib/cinematic/__init__.py exports key tracking functions
- Version bumped to 0.3.5
- All imports work without errors
</success_criteria>

<output>
After completion, create `.planning/phases/07.4-compositing-integration/07.4-05-SUMMARY.md`
</output>
